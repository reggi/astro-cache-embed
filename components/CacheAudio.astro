---
import { cacheFetch, type CacheFetchOptions } from '../controllers/cache_fetch';
import AudioPlayer from './AudioPlayer.astro';

type Props = CacheFetchOptions & {
  href: string
}

const props = Astro.props
const { href } = props

const data = await cacheFetch(href, props)
---

{ data?.src && <AudioPlayer src={data.src}/> }